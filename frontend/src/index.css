@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root { /* Tema Azul (Default) */
    --color-primary: 217 91% 60%; /* Azul-500: hsl(217, 91%, 60%) */
    --color-primary-focus: 217 91% 55%; /* Un poco más oscuro para focus/hover */
    --color-secondary: 221 83% 53%; /* Azul-700: hsl(221, 83%, 53%) */
    --color-accent: 215 70% 45%; /* Azul-600: hsl(215, 70%, 45%) */
    --color-text-main: 220 24% 15%; /* Gris-800: hsl(220, 24%, 15%) */
    --color-text-secondary: 220 13% 40%; /* Gris-600: hsl(220, 13%, 40%) */
    --color-text-accent: 0 0% 100%; /* Blanco para textos sobre fondos primarios/accent */
    --color-bg-main: 220 60% 97%; /* Gris-50: hsl(220, 60%, 97%) */
    --color-bg-card: 0 0% 100%;    /* Blanco */
    --color-bg-accent: hsl(var(--color-primary)); /* Fondo con color primario */
    --color-border: 220 20% 87%; /* Gris-300: hsl(220, 20%, 87%) */

    /* Variables originales para compatibilidad si alguna utilidad las usa directamente */
    /* Aunque es mejor usar las semánticas de arriba */
    --color-primary-50: 220 100% 96%; /* azul-50 */
    --color-primary-100: 216 100% 94%; /* azul-100 */
    --color-primary-200: 217 96% 87%; /* azul-200 */
    --color-primary-300: 214 96% 76%; /* azul-300 */
    --color-primary-400: 210 93% 68%; /* azul-400 */
    --color-primary-500: 217 91% 60%; /* azul-500 */
    --color-primary-600: 222 83% 58%; /* azul-600 */
    --color-primary-700: 221 83% 53%; /* azul-700 */
    --color-primary-800: 222 70% 46%; /* azul-800 */
    --color-primary-900: 223 64% 37%; /* azul-900 */
  }

  html {
    font-family: 'Inter', system-ui, sans-serif;
  }
  
  body {
    @apply bg-bg-main text-text-main; /* Usar las nuevas clases semánticas */
  }

  /* Tema Blanco y Negro */
  .theme-bw {
    --color-primary: 0 0% 0%;        /* Negro */
    --color-primary-focus: 0 0% 10%;
    --color-secondary: 0 0% 20%;     /* Gris oscuro */
    --color-accent: 0 0% 0%;         /* Negro */
    --color-text-main: 0 0% 0%;      /* Negro */
    --color-text-secondary: 0 0% 20%; /* Gris oscuro */
    --color-text-accent: 0 0% 100%;  /* Blanco */
    --color-bg-main: 0 0% 100%;     /* Blanco */
    --color-bg-card: 0 0% 95%;      /* Gris muy claro */
    --color-bg-accent: hsl(var(--color-primary));
    --color-border: 0 0% 0%;         /* Negro */
  }

  /* Tema Rojo */
  .theme-red {
    --color-primary: 0 84% 60%;      /* Rojo-500: hsl(0, 84%, 60%) */
    --color-primary-focus: 0 84% 55%;
    --color-secondary: 0 72% 43%;    /* Rojo-700: hsl(0, 72%, 43%) */
    --color-accent: 0 74% 50%;       /* Rojo-600: hsl(0, 74%, 50%) */
    --color-text-main: 220 24% 15%;   /* Gris-800 */
    --color-text-secondary: 220 13% 40%; /* Gris-600 */
    --color-text-accent: 0 0% 100%;   /* Blanco */
    --color-bg-main: 0 100% 97%;     /* Rojo-50: hsl(0, 100%, 97%) */
    --color-bg-card: 0 0% 100%;       /* Blanco */
    --color-bg-accent: hsl(var(--color-primary));
    --color-border: 0 60% 85%;        /* Rojo-200 (aprox) */
  }

  /* Tema Amarillo Pastel */
  .theme-yellow-pastel {
    --color-primary: 45 96% 65%;     /* Amarillo-300: hsl(45, 96%, 65%) */
    --color-primary-focus: 45 96% 60%;
    --color-secondary: 43 96% 57%;   /* Amarillo-400: hsl(43, 96%, 57%) */
    --color-accent: 39 97% 51%;      /* Amarillo-500: hsl(39, 97%, 51%) */
    --color-text-main: 220 17% 28%;   /* Gris-700: hsl(220, 17%, 28%) */
    --color-text-secondary: 220 10% 45%;/* Gris-500: hsl(220, 10%, 45%) */
    --color-text-accent: 220 17% 20%; /* Un gris oscuro para contraste sobre amarillo */
    --color-bg-main: 48 100% 96%;    /* Amarillo-50: hsl(48, 100%, 96%) */
    --color-bg-card: 0 0% 100%;       /* Blanco */
    --color-bg-accent: hsl(var(--color-primary));
    --color-border: 45 80% 85%;       /* Amarillo-100/200 (aprox) */
  }
}

@layer components {
  .btn-primary {
    @apply bg-primary text-text-accent font-medium py-2 px-4 rounded-lg transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-primary-focus focus:ring-offset-2;
    /* Hover state podría ser bg-primary-focus o un color de acento más oscuro si se define */
    @apply hover:bg-primary-focus;
  }
  
  .btn-secondary {
    /* Usaremos colores que contrasten bien con bg-main y usen text-secondary o text-main */
    @apply bg-bg-card hover:bg-border-color text-text-secondary font-medium py-2 px-4 rounded-lg transition-colors duration-200 border border-border-color focus:outline-none focus:ring-2 focus:ring-secondary focus:ring-offset-2;
    /* Para temas oscuros, bg-bg-card podría ser oscuro, y text-text-secondary claro. Esto debería funcionar. */
  }
  
  .btn-outline {
    @apply border border-primary text-primary hover:bg-primary hover:text-text-accent font-medium py-2 px-4 rounded-lg transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2;
  }
  
  .input-field {
    @apply w-full px-3 py-2 border border-border-color rounded-lg bg-bg-card text-text-main focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent transition-colors duration-200;
    /* Placeholder color */
    /* @apply placeholder-text-secondary/70; */ /* Tailwind v3.1+ */
  }
  
  .card {
    @apply bg-bg-card rounded-lg shadow-sm border border-border-color p-6 text-text-main;
  }
  
  .table-cell {
    @apply px-4 py-3 text-sm border-b border-border-color text-text-secondary;
  }
  
  .table-header {
    @apply px-4 py-3 text-left text-xs font-medium text-text-secondary uppercase tracking-wider border-b border-border-color bg-bg-card; /* bg-bg-card o bg-bg-main/90 */
  }
}

/* Custom scrollbar - puede necesitar ajustes por tema */
::-webkit-scrollbar {
  width: 6px;
  height: 6px;
}

::-webkit-scrollbar-track {
  @apply bg-gray-100; /* Color base, podría ser una variable --color-scrollbar-track */
  /* Ejemplo si quisiéramos que cambiara con el tema:
     background-color: hsl(var(--color-bg-main) / 0.5);
  */
}

::-webkit-scrollbar-thumb {
  @apply bg-gray-400 rounded-sm; /* Color base, podría ser --color-scrollbar-thumb */
}

::-webkit-scrollbar-thumb:hover {
  @apply bg-gray-500;
}

/* Loading animation */
.loading-spinner {
  border: 2px solid hsl(var(--color-border) / 0.3); /* Usar variable de borde con opacidad */
  border-top: 2px solid hsl(var(--color-primary)); /* Usar variable primaria */
  border-radius: 50%;
  width: 20px;
  height: 20px;
  animation: spin 1s linear infinite;
}

@keyframes spin {
  0% { transform: rotate(0deg); }
  100% { transform: rotate(360deg); }
}